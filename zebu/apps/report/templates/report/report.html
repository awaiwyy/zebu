{% extends "reportbase.html" %}
 {% block content %}
 <!-- 中间模板 -->
		<div class="divcenter">
			<div class="requestForm">
			<div>
			   <div class="new_request_title">Daily Report
			     {% if perms.request.add_requesttable %}
			   <div class="middleleft_bottom_new_report" data-toggle="modal" data-target="#NewModal" style="float:right">
				   <a style="cursor:pointer">New</a>
			   </div>
			   </div>
			 </div>
				<!--弹出模态框（Modal） -->
						<div class="modal fade" id="NewModal" tabindex="-1" role="dialog" aria-labelledby="NewModalLabel" aria-hidden="true">
                    <div class="modal-dialog" style = "width:800px">
                      <div class="modal-content">
                        <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                           <h4 class="modal-title" id="NewModalLabel">Daily Report</h4>
                        </div>
                        <div class="modal-body">
                        <form class = "modalForm" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                          <div class="modalFormContent">
                          <ul>
									   <li class="new_rqleft">Product:</li>
									   <li>
                                  <textarea class="borderWidth modalReportText" id="productInfo" name="productInfo"></textarea>
                              </li>
								  </ul>
								  <ul>
									   <li class="new_rqleft">SPM:</li>
									   <li>
									     <textarea class="borderWidth modalReportText" id="spmInfo" name="spmInfo"></textarea>
                              </li>
								  </ul>
								  <ul>
									   <li class="new_rqleft" >Daily Reporter:</li>
									   <li>
                                 <textarea class="borderWidth modalReportText" id="reporterInfo" name="reporterInfo"></textarea>
                              </li>
								  </ul>
								<ul>
								      <li class="new_rqleft">Attachment:</li>
								      <li>
											<input type="file" name="file" id="file" />
										</li>
								  </ul>
								  <input type="hidden" name="ownerInfo" value={{user.username}} />
								  <!-- <input type="hidden" name="submitUserInfo" value={{user.username}} /> -->
								  </div>
								  <div align="center" style="margin-bottom: 100px; ">
                            <button class= "requestBtn" type="text" name="cancle" style="background-color: #FB8C8C" data-dismiss="modal">cancel</button>
                            <button class= "requestBtn" name="ok" type="submit" style="background-color:#67D00B ">confirm</button>
                          </div>
                          </form>
                          </div>
                      </div>
                   </div>
                 </div>
					  <!-- 添加模态框（Modal）结束 -->
					  {% endif %}
			   
				<div id="requestTable" class="requestTableDiv">
					<table  class="requestTable" id="Box"  >
						<!--<tr>
							<th scope="col" width="84px"><span>Product</span></th>
							<th scope="col" width="84px"><span>SPM</span></th>
							<th scope="col" width="222px"><span>Daily Reporter</span></th>
						</tr>-->
						{% for tab in daily_report_tab %}
                  <tr>
                     <td><b>Product:</b>{{tab.product}}</td>
                     <td><b>SPM:</b>{{tab.spm}}</td>
                     <td><b>Daily Reporter:</b>{{tab.daily_reporter}}</td>
                     <td><a data-toggle="modal" data-target="#myModal18"  style="cursor:pointer"><button class= "requestBtn" id="editBtn21" type="text" style="background-color: #FB8C8C">Edit</button></a></td>
					 <td><a data-toggle="modal" data-target="#delPlanModal{{tab.id}}"  style="cursor:pointer"><button class= "requestBtn" id="editBtn21" type="text" style="background-color: #FB8C8C">Delete</button></a></td>
				 </tr>
				  <tr>
				  <td><a href="downloadfile/{{tab.file_link}}">{{tab.file_link}}</a></td>
				  </tr>

					  <!-- 弹出模态框（Modal） -->
					  <div class="modal fade" id="myModal18" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog" style = "width:800px">
                      <div class="modal-content">
                        <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                           <h4 class="modal-title" id="myModalLabel">Daily Report Details</h4>
                        </div>
 
							<form  class = "modalForm" method="POST">
                              <div class="modalFormContent" id="readRpTab{{tab.id}}">
                              <ul>
									     <li class="rqleft">Product:</li>
									<textarea class="borderWidth modalReportText" id="actionDiscriptionEdit18" name="actionDiscriptionEdit">{{tab.product}}</textarea>
                                </li>
								      </ul>
                              <ul>
									     <li class="rqleft">SPM:</li>
									     <li>
                                  <textarea class="borderWidth modalReportText" id="actionDiscriptionEdit18" name="actionDiscriptionEdit">{{tab.spm}}</textarea>
                                </li>
								      </ul>
								<ul>
									     <li class="rqleft">Daily Reporter:</li>
									     <li>
                                  <textarea class="borderWidth modalReportText" id="actionDiscriptionEdit18" name="actionDiscriptionEdit">{{tab.daily_reporter}}</textarea>
                                </li>
								      </ul>
								<ul>
										<li class="rqleft" >Attachment:</li>
									     <li>
                                </li>
								      </ul>
									     
								      </div>
								      <div align="center" style="margin-bottom: 100px; vertical-align:middle;">
                                  <button class= "requestBtn" type="text" id="cancleEditBtn18" style="background-color: #FB8C8C" data-dismiss="modal">cancel</button>
                                  <button class= "requestBtn" type="submit" id="saveRqEdit18"  style="background-color:#67D00B ">confirm</button>
                              </div>
                            </form>
                            </div>
                            </div>
                            </div>
					  

					  <!-- 添加模态框（Modal）结束 -->
					  
					  <!-- 模态框（Modal） -->
								<div class="modal fade" id="delPlanModal{{tab.id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
									aria-hidden="true">
									<div class="modal-dialog planDelForm">
										<div class="modal-content">
											<div class="modal-header">
												<!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> -->
												<h4 class="modal-title" id="myModalLabel">Delete the Report item ?</h4>
											</div>
											<div class="modal-body">
												<form class="delForm" method="POST">
                                                {% csrf_token %}
                                                 <input type="text" name = "delReportId" value = {{tab.id}} hidden />
													<div align="center" style="margin-bottom: 50px;">
														<button class="requestBtn" type="text"
															id="cancleDelBtn" name="cancle"
															style="background-color: #FB8C8C"
															data-dismiss="modal">Cancle</button>
														<button class="requestBtn" name="ok" type="submit"
															style="background-color: #67D00B">confirm</button>
													</div>
												</form>
											</div> 
										</div>
									</div>
								</div>
								<!-- delete plan table modal finish-->
						{% endfor %}
					</table>
				</div>
 {% endblock %}